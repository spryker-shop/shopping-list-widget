{% extends model('component') %}

{% define config = {
    name: 'shop-list-item'
} %}

{% define data = {
    shoppingList: required
} %}

{% block body %}

    {% set hasWriteAccess =  can('WriteShoppingListPermissionPlugin', data.shoppingList.idShoppingList) %}

    <div class="spacing-bottom spacing-bottom--small">
        <a href="{{ path('shopping-list/details', { idShoppingList: (data.shoppingList.idShoppingList)}) }}" class="{{ config.name }}__name">
            <strong>{{ data.shoppingList.name }}</strong>
        </a>
        <span class="{{ config.name }}__owner">({{ data.shoppingList.owner }})</span>
    </div>

    <div class="spacing-bottom spacing-bottom--small">
        <span class="{{ config.name }}__items-count">
            {{ data.shoppingList.numberOfItems }}
            {{ 'shopping_list_widget.items' | trans }}
        </span>
        <span class="{{ config.name }}__access {% if hasWriteAccess %}{{ config.name }}__access--full{% endif %}" >
            {% if hasWriteAccess %}
                {{ 'shopping_list_widget.full_access' | trans }}
            {% else %}
                {{ 'shopping_list_widget.read_only' | trans }}
            {% endif %}
        </span>
    </div>

{% endblock %}
